Technitium DNS Server Validation Report
========================================

Validation Date: {{ validation_timestamp }}
Host: {{ inventory_hostname }} ({{ ansible_host }})
Hardware Profile: {{ hardware_profile }}

Container Information
--------------------
Name: {{ technitium_container_name }}
Image: {{ technitium_image }}
Status: {{ container_status }}
Network Mode: {{ technitium_network_mode }}

Service Endpoints
----------------
DNS Service: {{ ansible_default_ipv4.address }}:{{ technitium_dns_port }}
Web Console: http://{{ ansible_default_ipv4.address }}:{{ technitium_web_port }}
Web Console Status: {{ web_console_status }}

Authentication
--------------
Admin User: {{ technitium_admin_user }}
Admin Password: {{ admin_password }}

External DNS Resolution Tests
---------------------------
{% for test in external_tests %}
{{ test.item }}: {{ 'PASS' if test.stdout_lines | length > 0 else 'FAIL' }} - {{ test.stdout_lines[0] | default('No response') }}
{% endfor %}

Local Domain Tests ({{ technitium_domain }})
{% set domain_length = technitium_domain | length %}
{{ '-' * (17 + domain_length) }}
{% for test in local_tests %}
{{ test.item.name }} {{ test.item.type }}: {{ 'PASS' if test.stdout_lines | length > 0 else 'FAIL' }} - {{ test.stdout_lines[0] | default('No record') }}
{% endfor %}

Configuration Summary
--------------------
Domain: {{ technitium_domain }}
Network: {{ technitium_network }}
Data Path: {{ technitium_data_path }}
Zones Configured: {{ technitium_zones | length }}

Zone Details
-----------
{% for zone in technitium_zones %}
Zone: {{ zone.name }}
Type: {{ zone.type | default('Primary') }}
Records: {{ zone.records | length }}
{% for record in zone.records %}
  - {{ record.name }} {{ record.type }} {{ record.value }}
{% endfor %}

{% endfor %}

System Information
-----------------
OS: {{ ansible_distribution }} {{ ansible_distribution_version }}
Memory: {{ ansible_memtotal_mb }}MB
CPU: {{ ansible_processor_vcpus }} cores
Docker Version: {{ ansible_local.docker.version | default('Unknown') }}

Recommendations
--------------
1. Verify all DNS records resolve correctly from client machines
2. Update DHCP server to advertise this DNS server ({{ ansible_default_ipv4.address }})
3. Configure reverse DNS zones for complete functionality
4. Set up monitoring for DNS service uptime
5. Consider DNS redundancy with secondary servers
6. Implement regular backup of DNS configuration

Report generated by Ansible on {{ ansible_date_time.iso8601 }}