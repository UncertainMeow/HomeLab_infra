[defaults]
# Inventory and collections
inventory = inventory/hosts.yml
collections_path = collections
roles_path = roles:collections/ansible_collections/kellen/infrastructure/roles

# SSH and connection settings
host_key_checking = False
remote_user = ansible
ask_become_pass = False
timeout = 30
gathering = smart
fact_caching = memory
fact_caching_timeout = 86400

# Output and logging
stdout_callback = yaml
display_skipped_hosts = False
retry_files_enabled = False
log_path = ./ansible.log

# Performance
forks = 10
pipelining = True

[ssh_connection]
# 1Password SSH Agent integration
ssh_args = -F /Users/kellen/.ssh/config-proxmox -o ControlMaster=auto -o ControlPersist=60s -o ForwardAgent=yes
control_path = ~/.ansible/cp/%%h-%%p-%%r

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml