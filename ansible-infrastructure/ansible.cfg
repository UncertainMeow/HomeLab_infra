[defaults]
# Ansible configuration for HomeLab infrastructure

# Inventory configuration
inventory = inventory/hosts.yml
host_key_checking = False

# Connection settings
remote_user = ansible
transport = ssh
timeout = 30

# SSH configuration
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ForwardAgent=yes
pipelining = True

# Performance settings
forks = 10
gathering = smart
fact_caching = memory
fact_caching_timeout = 86400

# Collection and role paths
collections_path = collections
roles_path = roles:collections/ansible_collections/kellen/infrastructure/roles

# Logging
log_path = ansible.log
display_args_to_stdout = False

# Privilege escalation
become = True
become_method = sudo
become_ask_pass = False

# Plugin settings
stdout_callback = yaml
bin_ansible_callbacks = True

# Retry configuration  
retry_files_enabled = True
retry_files_save_path = ~/.ansible-retry